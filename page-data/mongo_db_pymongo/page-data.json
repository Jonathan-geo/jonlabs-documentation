{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/mongo_db_pymongo/","result":{"pageContext":{"article":{"banner":{"alt":"python-logo","caption":"Photo by Jonathan Domingos","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAC4ElEQVR42i2R2U4bBwAAV2rs9d73wXrX3vX69hqDje2CCYcJxlwBkpJQErUC8tBWSfsB/fipEvVhXkcjjfDqpwqlVwoV0USRPDQlxFBjfKeN43TQjSaq3kDWUiQtRVRriEqCKMc/KEshJdGlVLYpiTZC6ZVMuawjVVxUOcI2Mjwrx7EaeE4H2+2hWx0Us/0/LSQ9p6I1KKt1SkpCWa5SliNKFR+hXNKQRAtZDlHVGqqaEvoDqsEQ22hh2T1sf4TljTC8TVRngOL0ka0uktlGMnJENf0hF+Uqglg2qIguslJFVmrkrTn1dI7vDsmzGcPRCjec4EUznGiKHo7Rg200bxPNG6I6fRSzg2LkSGodoVK2kCohilpDVlPe//LCm9VnptNrXu+/4/HTP9QbR7gbP2MGU9RwRsUdo7rbSOaQitHDcAo0q4diNBEk0UGRIjQ9RdUa9PuHPD5+4/7+Lz5++EavOCOM93l795XV9R8crJ84On9mfvjA6eUz08V7NHuI9b3Y6iLIle9nY0yjgaY3GU/W/Prpby6vv7A8/sxw85KNeMHJ6pmj0xcmi0cu7r6yvPjC+d2fLM9+x3C3sYMxujNAUKQAQ61jmDmW1eHy8jcODu/Z3b+nV1zw8vQvxeCKMDkgyd4Q5Wf4tSVBeoKfHOBGe7jxLla4g+2NEFQ5wNRqWFYTy+4yHq/pdY/x/Sm7i4+cnDwxGt7QL97SL25oD27Julek7QuS5hovO8JM9nCrM8JwjKCpAaae4Fg5gd/HtftUwzGN7DWN7Jhu55zF9IHpzgM743u2xh9oDW5I22uqrRVefoyf7hPGMzaiLQRDC7GNGNfOCNwOcbhJGk/I63u0W4cUgzN2J7ec7D4w2bplMLyiV1zR6Kyot09JWsdE2T5Rbc5GdRvBNUI8q0rgZkR+lyQakiUT8nRGms1ptvYoiiVni3fsjNa0e0sGxYp254i8uSBtzKmlU+LahGq8xX8SbFcL4N/nQwAAAABJRU5ErkJggg=="},"images":{"fallback":{"src":"/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/bc51f/python-logo.png","srcSet":"/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/41200/python-logo.png 165w,\n/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/f979a/python-logo.png 330w,\n/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/bc51f/python-logo.png 660w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/322ad/python-logo.webp 165w,\n/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/de3b3/python-logo.webp 330w,\n/jonlabs-documentation/static/47d6c63bd4e15d9441ffdb34771056d3/2b2b5/python-logo.webp 660w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<style>\nbutton {\n  transition-duration: 0.3s;\n  border:none;\n  border-radius: 8px;\n}\n\nbutton:hover {\n    border:none;\n    background-color: #6c757d;\n    color: black;\n    cursor:pointer;\n    border-radius: 8px;\n}\n\n.destaques {\n    margin-left: 50px;\n}\n\n.barra-destaques {\n    background-color: #6c757d;\n    border-radius: 2px;\n}\n\nimg {\n    object-fit: none !important;\n    background-color: white !important;\n    /* box-sizing: unset !important; */\n}\n\n* {\n    box-sizing: unset !important;\n}\n</style>\n<h1>MONGO_DB</h1>\n<p>MongoDB é um banco de dados orientado a documentos, é de código aberto, gratuito e de alta performance. Foi escrito na linguagem de programação C++, o que o torna multiplataforma. Classificado como um programa de banco de dados NoSQL, o MongoDB usa documentos semelhantes a JSON com esquemas. É desenvolvido pela MongoDB Inc. e publicado sob uma combinação da GNU Affero General Public License e Licença Apache. Suas características permitem com que as aplicações modelem informações de modo muito mais natural, pois os dados podem ser aninhados em hierarquias complexas e continuar a ser indexáveis e fáceis de buscar.</p>\n<p><button onclick=\"window.open('https://www.mongodb.com/');\">MONGO - LOGIN</button>\n<button onclick=\"window.open('https://cloud.mongodb.com/user#/atlas/login');\">MONGO - HOME</button></p>\n<p>Acesse meu github para consultar a documentação completa, lá você encontrará, além desta documentação, alguns exemplos de python funcional utilizando o mongoDB e a pymongo.</p>\n<p><button onclick=\"window.open('https://github.com/Jonathan-geo/mongoDB_pymongo');\">GITHUB</button></p>\n<p>OBS: Para esta documentação foi utilizado um cluster no mongodb cloud.</p>\n<h3>Install</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\n<span class=\"token comment\">#  No terminal </span>\n\n$ python <span class=\"token parameter variable\">-m</span> pip <span class=\"token function\">install</span> pymongo\n$ python <span class=\"token parameter variable\">-m</span> pip <span class=\"token function\">install</span> pymongo<span class=\"token punctuation\">[</span>srv<span class=\"token punctuation\">]</span>\n</code></pre></div>\n<h3>Import</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pymongo <span class=\"token keyword\">import</span> MongoClient\n<span class=\"token keyword\">from</span> pprint <span class=\"token keyword\">import</span> pprint</code></pre></div>\n<p>OBS: A biblioteca pprint foi utilizada para que o outputs fossem estilizados semelhantes formato json.</p>\n<h3>Connect</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">connection <span class=\"token operator\">=</span> MongoClient<span class=\"token punctuation\">(</span><span class=\"token string\">\"mongodb+srv://login:senha@cluster0-5ueib.mongodb.net/test?retryWrites=true&amp;w=majority\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Create - DB</h3>\n<p>Criando o banco de dados \"moonlightDB\" e instanciando uma variavel de mesmo nome a ele.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#Estabelecendo a conexão </span>\nconnection <span class=\"token operator\">=</span> MongoClient<span class=\"token punctuation\">(</span><span class=\"token string\">\"mongodb+srv://login:senha@cluster0-5ueib.mongodb.net/test?retryWrites=true&amp;w=majority\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#Criando um DB</span>\nmoonlightDB <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">[</span><span class=\"token string\">\"moonlightDB\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<h3>Create - Collection</h3>\n<p>Criando uma coleção (Tabela) \"heroes\" e instanciando uma variavel de mesmo nome a esta coleção.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">\n<span class=\"token comment\">#Estabelecendo a conexão </span>\nconnection <span class=\"token operator\">=</span> MongoClient<span class=\"token punctuation\">(</span><span class=\"token string\">\"mongodb+srv://login:senha@cluster0-5ueib.mongodb.net/test?retryWrites=true&amp;w=majority\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#Criando um DB</span>\nmoonlightDB <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">[</span><span class=\"token string\">\"moonlightDB\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">#Criando uma colection</span>\nheroes <span class=\"token operator\">=</span> moonlightDB<span class=\"token punctuation\">[</span><span class=\"token string\">\"heroes\"</span><span class=\"token punctuation\">]</span>\n</code></pre></div>\n<p>OBS: No MongoDB, um banco de dados e uma coleção não é criada até obter conteúdo!\nO MongoDB aguarda até que você tenha inserido um documento antes que ele realmente crie a coleção.</p>\n<h3>Create - document</h3>\n<p>Criando um documento (Paladino) e inserindo ele em uma coleção (heroes):</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">\n<span class=\"token comment\">#Estabelecendo a conexão </span>\nconnection <span class=\"token operator\">=</span> MongoClient<span class=\"token punctuation\">(</span><span class=\"token string\">\"mongodb+srv://login:senha@cluster0-5ueib.mongodb.net/test?retryWrites=true&amp;w=majority\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#Criando um DB</span>\nmoonlightDB <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">[</span><span class=\"token string\">\"moonlightDB\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">#Criando uma colection</span>\nheroes <span class=\"token operator\">=</span> moonlightDB<span class=\"token punctuation\">[</span><span class=\"token string\">\"heroes\"</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">#Criando um documento</span>\nPaladino <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Jonathan\"</span><span class=\"token punctuation\">,</span> \n            <span class=\"token string\">\"Classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"paladino\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"força\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">21</span><span class=\"token punctuation\">,</span> \n            <span class=\"token string\">\"defesa\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> \n            <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"espada longa\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"poder1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ataque divino\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"poder2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"cura pelas mãos\"</span> <span class=\"token punctuation\">}</span>\n\ninserColeçao <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>insert_one<span class=\"token punctuation\">(</span>Paladino<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>inserColeçao<span class=\"token punctuation\">.</span>inserted_id<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>Criando vários documentos e inserindo eles em uma coleção (Tabela):</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">variosHerois <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Leda\"</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"Classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mago de fogo\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"força\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">18</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"defesa\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"cajado\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"poder1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"bola de fogo\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"poder2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"chuva de meteoro\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                \n                <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Anny\"</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"Classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"animal\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"força\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">11</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"defesa\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"guarra\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"poder1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"furtividade\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"poder2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"guarras afiadas\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n                <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Nick\"</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"Classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"animal\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"força\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"defesa\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">14</span><span class=\"token punctuation\">,</span> \n                <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mordida\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"poder1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"velocidade\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"poder2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mordida frontal\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n\ninserindoTudo <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>insert_many<span class=\"token punctuation\">(</span>variosHerois<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>inserindoTudo<span class=\"token punctuation\">.</span>inserted_ids<span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>Criando um documento com ID. Lembre-se, dois documentos NÃO podem ter o mesmo ID.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Paladino = { \"_id\": 1,</span>\n<span class=\"token comment\">#             \"name\": \"Jonathan\",</span>\n<span class=\"token comment\">#             \"Classe\": \"paladino\",</span>\n<span class=\"token comment\">#             \"força\": 24,</span>\n<span class=\"token comment\">#             \"defesa\": 19,</span>\n<span class=\"token comment\">#             \"arma\": \"espada longa\",</span>\n<span class=\"token comment\">#             \"poder1\": \"ataque divino\",</span>\n<span class=\"token comment\">#             \"poder2\": \"cura pelas mãos\" }</span>\n\n<span class=\"token comment\"># inserColeçao = heroes.insert_one(Paladino)</span>\n<span class=\"token comment\"># print(inserColeçao.inserted_id)</span></code></pre></div>\n<p><strong>Posso criar documentos com mais {chave: valor} em uma mesma colection.</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">Paladino <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"_id\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Trevor\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"Classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Knight\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"força\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">24</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"defesa\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"espada longa\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"poder1\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ataque divino\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"poder2\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"cura pelas mãos\"</span><span class=\"token punctuation\">,</span>\n            <span class=\"token string\">\"poder3\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Espada da noite\"</span> <span class=\"token punctuation\">}</span>\n\ninserColeçao <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>insert_one<span class=\"token punctuation\">(</span>Paladino<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>inserColeçao<span class=\"token punctuation\">.</span>inserted_id<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Select - Data Base</h3>\n<p>Listando e buscando banco de dados em minha conta mongoDB. Lembrando que minha conexão está com o nome de \"coonection\"</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pprint <span class=\"token punctuation\">(</span>connection<span class=\"token punctuation\">.</span>list_database_names<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">dblist <span class=\"token operator\">=</span> connection<span class=\"token punctuation\">.</span>list_database_names<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token string\">\"moonlightDB\"</span> <span class=\"token keyword\">in</span> dblist<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"O banco de dados existe.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"O banco de dados não existe.\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Select - Collection</h3>\n<p>Listando e buscando coleções (Tabelas) no meu banco de dados \"moonlight\".</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pprint <span class=\"token punctuation\">(</span>moonlightDB<span class=\"token punctuation\">.</span>list_collection_names<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">collist <span class=\"token operator\">=</span> moonlightDB<span class=\"token punctuation\">.</span>list_collection_names<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> <span class=\"token string\">\"heroes\"</span> <span class=\"token keyword\">in</span> collist<span class=\"token punctuation\">:</span>\n  <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A coleção existe.\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Contando o número de documentos dentro da minha colection</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pprint<span class=\"token punctuation\">(</span>heroes<span class=\"token punctuation\">.</span>count_documents<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Select - Docment</h3>\n<p>Selecionando o primeiro documento da coleção (heroes)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pprint<span class=\"token punctuation\">(</span>heroes<span class=\"token punctuation\">.</span>find_one<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Selecionando um documento por {chave: Valor}:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">pprint<span class=\"token punctuation\">(</span>heroes<span class=\"token punctuation\">.</span>find_one<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"mordida\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Selecionando todos os documentos da minha coleção:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> personagens <span class=\"token keyword\">in</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pprint<span class=\"token punctuation\">(</span>personagens<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Selecionando todos os documentos da minha coleção (Número limitado)</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">selLimite <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>limit<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> selLimite<span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Selecionando todos os documentos que possuem uma mesma {chave:valor} selecionada:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> animais <span class=\"token keyword\">in</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"animal\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pprint<span class=\"token punctuation\">(</span>animais<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Selecionando o nome e a arma de todos os documentos.\nSó posso atribuir falso (0) para o id, pois ele é o unico que aparece mesmo quando não mensionado.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">for</span> nomes <span class=\"token keyword\">in</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"_id\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>nomes<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\">#Neste caso o ID, aparecerá também. </span>\n<span class=\"token keyword\">for</span> armas <span class=\"token keyword\">in</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>armas<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#Neste caso o id não aparecerá.</span>\n<span class=\"token keyword\">for</span> classes <span class=\"token keyword\">in</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span> <span class=\"token string\">\"_id\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"classe\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>classes<span class=\"token punctuation\">)</span>\n</code></pre></div>\n<p>Instanciando uma busca.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">cajado <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"arma\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"cajado\"</span> <span class=\"token punctuation\">}</span>\nbusca <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span>cajado<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> busca<span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Buscar os documento em que o valor da chave nome comessem com a\nletra T ou posterior no alfabeto. (T, U, V, ...). Lembrando que os nomes estão em maiúscula.\nA mesma busca pode ser feita por regex: letraJ = { \"name\": { \"$regex\": \"^S\" } }</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">\nletraJ <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"$gt\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"T\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\nbusca <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span>letraJ<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> busca<span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n\n\n\n<span class=\"token comment\"># >>>>>> Selecionando os documentos por ordem alfabética (nome):</span>\nnomePorOredem <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> nomePorOredem<span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\"># >>>>>> Selecionando por ordem decrescente. Para o caso de ordem crescente substituir o -1 por 1.</span>\nordemDecrescente <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> ordemDecrescente<span class=\"token punctuation\">:</span>\n  pprint<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Delete - Document</h3>\n<p>Deleta o primeiro documento com o nome selecionado</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">delNome <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Jonathan\"</span> <span class=\"token punctuation\">}</span>\n\nheroes<span class=\"token punctuation\">.</span>delete_one<span class=\"token punctuation\">(</span>delNome<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Deletando vários documentos e retornando o número de documentos deletados.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">delVarios <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"$regex\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^N\"</span><span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\ndeletados <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>delete_many<span class=\"token punctuation\">(</span>delVarios<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>deletados<span class=\"token punctuation\">.</span>deleted_count<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Deletando todos os documentos de uma coleção:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">delTodos <span class=\"token operator\">=</span> heroes<span class=\"token punctuation\">.</span>delete_many<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>delTodos<span class=\"token punctuation\">.</span>deleted_count<span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Delete - Collection</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">heores<span class=\"token punctuation\">.</span>drop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>Update - Values</h3>\n<p>Alterando valores de um documento:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">valorAntigo <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Trevor\"</span> <span class=\"token punctuation\">}</span>\nnovoValor <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"$set\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Belmont\"</span> <span class=\"token punctuation\">}</span> <span class=\"token punctuation\">}</span>\nheroes<span class=\"token punctuation\">.</span>update_one<span class=\"token punctuation\">(</span>valorAntigo<span class=\"token punctuation\">,</span> novoValor<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Referências:</p>\n<ul>\n<li><a href=\"https://pt.wikipedia.org/wiki/MongoDB\">https://pt.wikipedia.org/wiki/MongoDB</a></li>\n<li><a href=\"https://docs.mongodb.com/manual/reference/method/db.collection.updateOne/\">https://docs.mongodb.com/manual/reference/method/db.collection.updateOne/</a></li>\n<li><a href=\"https://codehandbook.org/pymongo-tutorial-crud-operation-mongodb/\">https://codehandbook.org/pymongo-tutorial-crud-operation-mongodb/</a></li>\n<li><a href=\"https://www.w3schools.com/python/python_mongodb_getstarted.asp\">https://www.w3schools.com/python/python_mongodb_getstarted.asp</a></li>\n<li><a href=\"https://imasters.com.br/banco-de-dados/mongodb-para-iniciantes-em-nosql\">https://imasters.com.br/banco-de-dados/mongodb-para-iniciantes-em-nosql</a></li>\n<li><a href=\"https://api.mongodb.com/python/current/tutorial.html\">https://api.mongodb.com/python/current/tutorial.html</a></li>\n<li><a href=\"https://pypi.org/project/pymongo/\">https://pypi.org/project/pymongo/</a></li>\n</ul>","categories":["PYTHON"],"date":"May 28, 2021","description":"Este tuturial apresenta um breve resumo de utilização do mongo DB com o python.","id":"11dd268e-c622-5bab-96aa-e04a23be53eb","keywords":["Python","Mongo","NoSQL"],"slug":"/mongo_db_pymongo/","title":"Utilizando Mongo DB com Python.","readingTime":{"text":"6 min read"}},"listingPagePath":"/articles"}},"staticQueryHashes":["172304273","948380417"],"slicesMap":{}}